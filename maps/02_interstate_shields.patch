--- iris_osm.xml	2011-05-23 10:08:59.000000000 -0500
+++ iris_osm.xml	2011-05-23 10:10:09.000000000 -0500
@@ -5294,52 +5294,22 @@
 </Style>
 <Style name="roads-text-low-zoom">
     <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 1</Filter>
+      <Filter>[highway]='motorway' and [prefix]='I-' and [tlength]=1</Filter>
       &maxscale_zoom10;
       &minscale_zoom12;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield1.png" min_distance="30" spacing="750"/>
+      <ShieldSymbolizer name="tref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/interstate1.png" min_distance="30" spacing="750"/>
     </Rule>
     <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 2</Filter>
+      <Filter>[highway]='motorway' and [prefix]='I-' and [tlength]=2</Filter>
       &maxscale_zoom10;
       &minscale_zoom12;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield2.png" min_distance="30" spacing="750"/>
+      <ShieldSymbolizer name="tref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/interstate2.png" min_distance="30" spacing="750"/>
     </Rule>
     <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 3</Filter>
+      <Filter>[highway]='motorway' and [prefix]='I-' and [tlength]>=3</Filter>
       &maxscale_zoom10;
       &minscale_zoom12;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield3.png" min_distance="30" spacing="750"/>
-    </Rule>
-    <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 4</Filter>
-      &maxscale_zoom10;
-      &minscale_zoom12;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield4.png" min_distance="30" spacing="750"/>
-    </Rule>
-    <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 5</Filter>
-      &maxscale_zoom10;
-      &minscale_zoom12;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield5.png" min_distance="30" spacing="750"/>
-    </Rule>
-    <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 6</Filter>
-      &maxscale_zoom10;
-      &minscale_zoom12;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield6.png" min_distance="30" spacing="750"/>
-    </Rule>
-    <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 7</Filter>
-      &maxscale_zoom10;
-      &minscale_zoom12;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield6.png" min_distance="30" spacing="750"/>
-    </Rule>
-    <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 8</Filter>
-      &maxscale_zoom10;
-      &minscale_zoom12;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield7.png" min_distance="30" spacing="750"/>
+      <ShieldSymbolizer name="tref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/interstate3.png" min_distance="30" spacing="750"/>
     </Rule>
     <Rule>
       <Filter>[highway] = 'trunk' and [length] = 1</Filter>
@@ -5440,52 +5410,22 @@
 </Style>
 <Style name="roads-text">
     <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 1</Filter>
-      &maxscale_zoom13;
-      &minscale_zoom18;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield1.png" min_distance="30" spacing="750"/>
-    </Rule>
-    <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 2</Filter>
-      &maxscale_zoom13;
-      &minscale_zoom18;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield2.png" min_distance="30" spacing="750"/>
-    </Rule>
-    <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 3</Filter>
-      &maxscale_zoom13;
-      &minscale_zoom18;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield3.png" min_distance="30" spacing="750"/>
-    </Rule>
-    <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 4</Filter>
-      &maxscale_zoom13;
-      &minscale_zoom18;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield4.png" min_distance="30" spacing="750"/>
-    </Rule>
-    <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 5</Filter>
-      &maxscale_zoom13;
-      &minscale_zoom18;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield5.png" min_distance="30" spacing="750"/>
-    </Rule>
-    <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 6</Filter>
+      <Filter>[highway]='motorway' and [prefix]='I-' and [tlength]=1</Filter>
       &maxscale_zoom13;
       &minscale_zoom18;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield6.png" min_distance="30" spacing="750"/>
+      <ShieldSymbolizer name="tref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/interstate1.png" min_distance="30" spacing="750"/>
     </Rule>
     <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 7</Filter>
+      <Filter>[highway]='motorway' and [prefix]='I-' and [tlength]=2</Filter>
       &maxscale_zoom13;
       &minscale_zoom18;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield6.png" min_distance="30" spacing="750"/>
+      <ShieldSymbolizer name="tref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/interstate2.png" min_distance="30" spacing="750"/>
     </Rule>
     <Rule>
-      <Filter>[highway] = 'motorway' and [length] = 8</Filter>
+      <Filter>[highway]='motorway' and [prefix]='I-' and [tlength]>=3</Filter>
       &maxscale_zoom13;
       &minscale_zoom18;
-      <ShieldSymbolizer name="ref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/mot_shield7.png" min_distance="30" spacing="750"/>
+      <ShieldSymbolizer name="tref" fontset_name="bold-fonts" size="10" fill="#fff" placement="line" file="&symbols;/interstate3.png" min_distance="30" spacing="750"/>
     </Rule>
     <Rule>
       <Filter>[highway] = 'trunk' and [length] = 1</Filter>
@@ -6556,7 +6496,10 @@
      <StyleName>roads-text-low-zoom</StyleName>
      <Datasource>
       <Parameter name="table">
-      (select way,highway,ref,char_length(ref) as length
+      (select way,highway,ref,char_length(ref) as length,
+       replace(substring(ref for 2), ' ', '-') as prefix,
+       trim(leading 'I- USMN' from split_part(ref, ';', 1)) as tref,
+       char_length(trim(leading 'I- USMN' from split_part(ref,';',1))) as tlength
        from &prefix;_roads
        where highway in ('motorway','trunk','primary')
          and ref is not null
@@ -6570,6 +6513,9 @@
      <Datasource>
       <Parameter name="table">
       (select way,highway,aeroway,name,ref,char_length(ref) as length,
+       replace(substring(ref for 2), ' ', '-') as prefix,
+       trim(leading 'I- USMN' from split_part(ref, ';', 1)) as tref,
+       char_length(trim(leading 'I- USMN' from split_part(ref,';',1))) as tlength,
        case when bridge in ('yes','true','1') then 'yes'::text else bridge end as bridge
        from &prefix;_line
        where waterway IS NULL
