<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta name="Author" content="Douglas Lau"/>
	<link href="iris_doc.css" rel="stylesheet" type="text/css"/>
	<title>Mn/DOT IRIS Release Notes</title>
</head>

<body>
<h1>Mn/DOT IRIS Release Notes</h1>
<dl>
	<dt>3.94.0 (1 August 2009)</dt>
	<dd><ul>
		<li>
			Fixed several serious bugs in 3.93.
		</li>
		<li>
			Replaced "view" layer (shapefile) with more dynamic
			MapExtent objects.
		</li>
		<li>
			Added a controller "password" field, which can be
			used to specify the SNMP community name for the NTCIP
			protocol.
		</li>
		<li>
			Reduced memory usage related to client mapping by up
			to 30% (70 MB).
		</li>
		<li>
			Optimized DMS status summary list drawing code.
		</li>
		<li>
			Cleaned up "View" menu by adding sub-menus.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.94.sql</code>.
		</li>
	</ul></dd>
	<dt>3.93.0 (15 July 2009)</dt>
	<dd><ul>
		<li>
			Travel time timing plans have been replaced with
			DMS action plans.
		</li>
		<li>
			Sign messages now have activation and run-time
			priority, plus a "scheduled" flag.
			Added more priority levels for use with DMS action
			plans.
			LCS indications now have different activation
			priorities.
		</li>
		<li>
			If a DMS has a scheduled message, blanking the sign
			will send the scheduled message instead.
		</li>
		<li>
			Rewrote the MULTI string parsing and formatting code.
		</li>
		<li>
			Fixed some bugs.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.93.sql</code>.
			WARNING: the migrate script may not work correctly,
			depending on travel time configurations.
			Please test before upgrading production systems.
		</li>
	</ul></dd>
	<dt>3.92.0 (8 July 2009)</dt>
	<dd><ul>
		<li>
			Added "action plans", which are more flexible than
			timing plans.
		</li>
		<li>
			Travel time timing plans still exist, but will be
			removed in the next version.
			DMS action plans can also work as travel time plans.
		</li>
		<li>
			Action plans can be deployed using a simple widget
			on the toolbar.
		</li>
		<li>
			Fixed a few bugs.
		</li>
		<li>
			Tms-log dependency updated to 1.14.1.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.92.sql</code>
		</li>
	</ul></dd>
	<dt>3.91.0 (30 June 2009)</dt>
	<dd><ul>
		<li>
			Lots of code cleaned up for easier maintenance.
		</li>
		<li>
			Bug fixes and improvements to dmslite and aws protocols.
		</li>
		<li>
			Toolbar added to map, with mouse coordinates, AWS status
			panel and zoom buttons.
		</li>
		<li>
			Added "clear" button and optional page on time spinner
			to DMS sign message composer user interface.
		</li>
		<li>
			Added a system attribute (operation_retry_threshold) to
			control the number of retries for each comm operation.
		</li>
		<li>
			SONAR dependency updated to 2.12.1.
			Tms-log dependency updated to 1.14.0.
			Tdxml dependency updated to 1.5.3.
			Mapbean dependency updated to 4.3.3.
			Videoclient dependency updated to 1.33.4.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.91.sql</code>
		</li>
	</ul></dd>
	<dt>3.90.0 (23 June 2009)</dt>
	<dd><ul>
		<li>
			Roles can now contain multiple "privileges".
			Individual roles can be enabled and disabled.
		</li>
		<li>
			SONAR dependency updated to 2.11.4.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.90.sql</code>
		</li>
	</ul></dd>
	<dt>3.89.0 (17 June 2009)</dt>
	<dd><ul>
		<li>
			Added support for NTCIP 1203v2 graphics.
		</li>
		<li>
			LCS arrays are now supported by NTCIP protocol.
		</li>
		<li>
			Cleaned up protocol packages.
		</li>
		<li>
			Cleaned up some old client code.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.89.sql</code>
		</li>
	</ul></dd>
	<dt>3.88.0 (1 June 2009)</dt>
	<dd><ul>
		<li>
			Lots of code moved around for better organization.
		</li>
		<li>
			Added "quick message" functionality for DMS messages.
		</li>
		<li>
			Cleaned up NTCIP protocol package.
			Added a bunch of unit tests.
		</li>
		<li>
			Cleaned up client permission checking code.
			Hard-coded role names have been removed.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.88.sql</code>
		</li>
	</ul></dd>
	<dt>3.87.0 (22 May 2009)</dt>
	<dd><ul>
		<li>
			Lots of code moved around for better organization.
		</li>
		<li>
			Standard PostgreSQL JDBC driver now required.
			Old postgesql.jar dependency dropped.
		</li>
		<li>
			Added more XML output for TMS objects.
		</li>
		<li>
			Added Pelco video switch protocol.
		</li>
		<li>
			Added Vicon PTZ camera protocol.
		</li>
		<li>
			Started work on unit testing infrastructure.
		</li>
		<li>
			Fixes for Caltrans D10.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.87.sql</code>
		</li>
	</ul></dd>
	<dt>3.86.0 (20 May 2009)</dt>
	<dd><ul>
		<li>
			Lane-use control signals converted to SONAR.
			All objects have now been converted; no more RMI.
		</li>
		<li>
			Lots of old code related to RMI has been removed.
		</li>
		<li>
			ObjectVault dependency has been removed.
			Standard PostgreSQL JDBC driver should work (untested).
		</li>
		<li>
			A few regressions introduced in 3.85.0 have been fixed.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.86.sql</code>
		</li>
	</ul></dd>

	<dt>3.85.0 (28 April 2009)</dt>
	<dd><ul>
		<li>
			System attributes now have tooltips describing their
			function.
		</li>
		<li>
			System attributes have been changed to be more
			consistent.
			<table>
				<tr>
					<th>Old Attribute</th>
					<th>New Attribute</th>
				</tr>
				<tr>
					<td>cameraviewer_num_preset_btns</td>
					<td>camera_num_presest_btns</td>
				</tr>
				<tr>
					<td>cameraviewer_num_video_frames</td>
					<td>camera_num_video_frames</td>
				</tr>
				<tr>
					<td>agency_id</td>
					<td>incident_caltrans_enable</td>
				</tr>
				<tr>
					<td>caltrans_d10_op_timeout_secs</td>
					<td>dmslite_op_timeout_secs</td>
				</tr>
				<tr>
					<td>caltrans_d10_mod_op_timeout_secs</td>
					<td>dmslite_modem_op_timeout_secs</td>
				</tr>
				<tr>
					<td>kml_create_file</td>
					<td>kml_file_enable</td>
				</tr>
				<tr>
					<td>menu_help_trouble_ticket</td>
					<td>help_trouble_ticket_enable</td>
				</tr>
				<tr>
					<td>menu_help_trouble_ticket_url</td>
					<td>help_trouble_ticket_url</td>
				</tr>
				<tr>
					<td>log_uptime_active</td>
					<td>uptime_log_enable</td>
				</tr>
				<tr>
					<td>log_uptime_filename</td>
					<td>uptime_log_filename</td>
				</tr>
			</table>
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.85.sql</code>
		</li>
	</ul></dd>

	<dt>3.84.0 (23 April 2009)</dt>
	<dd><ul>
		<li>
			Added UDP communications support for NTCIP.
		</li>
		<li>
			Lots of I18N improvements.
		</li>
		<li>
			New integrated help system added.
		</li>
		<li>
			KML output generation for DMS mapping.
		</li>
		<li>
			Many regression fixes for Caltrans D10.
		</li>
		<li>
			Updates and fixes for the dmslite protocol.
		</li>
	</ul></dd>

	<dt>3.83.0 (17 April 2009)</dt>
	<dd><ul>
		<li>
			Fixed many DMS and ramp metering bugs related to SONAR
			conversion.
		</li>
		<li>
			Fixed DMS pixel status bugs for NTCIP protocol.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.83.sql</code>
		</li>
	</ul></dd>

	<dt>3.82.0 (3 April 2009)</dt>
	<dd><ul>
		<li>
			The process to build and install IRIS has been greatly
			simplified, using an RPM package.
			All dependencies updated to new versions.
			Datatools dependency is no longer required.
			Instructions for building and installing IRIS are now
			included in the docs/ directory.
		</li>
		<li>
			Directory locations have been changed to be more
			consistent.
			<table>
				<tr>
					<th>Old Location</th>
					<th>New Location</th>
				</tr>
				<tr>
					<td>/data/meter/</td>
					<td>/var/lib/iris/meter/</td>
				</tr>
				<tr>
					<td>/data/traffic/</td>
					<td>/var/lib/iris/traffic/</td>
				</tr>
				<tr>
					<td>/usr/local/tms/</td>
					<td>/usr/share/java/</td>
				</tr>
				<tr>
					<td>/var/local/tms/dds/</td>
					<td>/var/lib/iris/xml/</td>
				</tr>
				<tr>
					<td>/var/log/tms/</td>
					<td>/var/log/iris/</td>
				</tr>
				<tr>
					<td>/var/www/html/iris/</td>
					<td>/var/www/html/iris-client/</td>
				</tr>
			</table>
		</li>
		<li>
			Properties files have been cleaned up, with some
			properties being renamed.
		</li>
		<li>
			Moved email configuration out of .properties files
			to System Attributes.
			New System Attributes are: email_smtp_host,
			email_sender_server, email_sender_client,
			email_recipient_aws, and email_recipient_bugs.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.82.sql</code>
		</li>
	</ul></dd>

	<dt>3.81.0 (4 March 2009)</dt>
	<dd><ul>
		<li>
			DMS, ramp meters and timing plans converted to SONAR.
		</li>
		<li>
			Many user interface enhancements were made in DMS tab.
			Message preview, multiple sign selection, pixel failure
			feedback, brightness feedback, plus much more is
			included. Some enhancements were also made for the
			ramp meter tab.
		</li>
		<li>
			AMBER alert functionality has changed to match normal
			DMS operation interface.
		</li>
		<li>
			Added ability to select a font for each page of a
			sign message.
		</li>
		<li>
			Timing plans can no longer be shared by devices.
			Each timing plan is now associated with a single
			device (DMS or ramp meter).
		</li>
		<li>
			Many new system attributes have been added to allow
			a great degree of system customization.
		</li>
		<li>
			Lots of code cleanups and bug fixes.
		</li>
		<li>
			SONAR dependency updated to 2.6.0.
		</li>
		<li>
			Scheduler dependency updated to 0.2.1.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.81.sql</code>
		</li>
	</ul></dd>

	<dt>3.80.0 (3 November 2008)</dt>
	<dd><ul>
		<li>
			System attributes replaces system policy table.
			This is a system-wide configuration widget for IRIS.
			This work was done by AHMCT, with additional features
			by Mn/DOT.
		</li>
		<li>
			Fixed some comm link and controller status issues.
		</li>
		<li>
			Lots of code cleanups and minor bug fixes.
		</li>
		<li>
			Font can be selected when creating new DMS message
			(Optional feature from AHMCT).
		</li>
		<li>
			SONAR dependency updated to 2.3.3.
		</li>
		<li>
			TrafMap dependency updated to 4.16.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.80.sql</code>
		</li>
	</ul></dd>

	<dt>3.79.0 (21 October 2008)</dt>
	<dd><ul>
		<li>
			Detector, r_nodes and stations converted to SONAR.
		</li>
		<li>
			Fixed several bugs related to recent SONAR updates.
		</li>
		<li>
			Lots of code cleanups and minor enhancements.
		</li>
		<li>
			SONAR dependency updated to 2.3.2.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.79.sql</code>
		</li>
		<li>
			NOTE: Some changes cannot be migrated automatically, and
			some manual steps may be required.
			Before migrating the database, please test with
			sql/detector_check.sql.
		</li>
	</ul></dd>
	<dt>3.78.0 (24 September 2008)</dt>
	<dd><ul>
		<li>
			Merged many changes from AHMCT (UC Davis).
			DMS message comboboxes are editable (agency-specific).
			RWIS tab added for weather stations (agency-specific).
			Internationalization work done on user interface.
			Many bugs fixed for Caltrans.
			Added buttons for camera presets.
		</li>
		<li>
			Vault dependency updated to 1.3.3.
			SONAR dependency updated to 2.1.2.
			Tdxml dependency updated to 1.4.2.
			TrafMap dependency updated to 4.15.
			Video client dependency updated to 1.33.0.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.78.sql</code>
		</li>
	</ul></dd>
	<dt>3.77.0 (15 September 2008)</dt>
	<dd><ul>
		<li>
			Warning signs have been converted to SONAR.
		</li>
		<li>
			A bug related to creating video monitors was fixed.
		</li>
		<li>
			An obscure infinite loop in SmartSensor decode was
			fixed.
		</li>
		<li>
			SONAR dependency updated to 2.1.1.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.77.sql</code>
		</li>
	</ul></dd>
	<dt>3.76.0 (12 September 2008)</dt>
	<dd><ul>
		<li>
			Alarm and camera tables have moved to new iris schema.
			New _device_io table added for data integrity.
		</li>
		<li>
			CommLinks will now automatically reconnect if the
			connection is lost.
			This involved a significant cleanup of comm package.
		</li>
		<li>
			A serious SONAR login race was fixed.
		</li>
		<li>
			Bugs related to creating/removing cameras were fixed.
		</li>
		<li>
			An obscure infinite loop in BER decode was fixed.
		</li>
		<li>
			SONAR dependency updated to 2.1.0.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.76.sql</code>
		</li>
	</ul></dd>
	<dt>3.75.0 (5 September 2008)</dt>
	<dd><ul>
		<li>
			Alarm objects converted to SONAR.
			Alarm events now logged in DB in event schema.
			New playlist feature added to camera tab.
		</li>
		<li>
			Many SONAR login issues were fixed.
			Numerous other bugs also have been fixed.
		</li>
		<li>
			Scheduler dependency updated to 0.2.0.
			SONAR dependency updated to 2.0.0.
			SONAR has a new dependency on scheduler.
		</li>
		<li>
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.75.sql</code>
		</li>
	</ul></dd>
	<dt>3.74.0 (27 August 2008)</dt>
	<dd><ul>
		<li>
			Camera objects converted to SONAR.
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.74.sql</code>
		</li>
		<li>
			Multiple cameras can be selected at once, by holding
			down CTRL key (or shift key in lists).
			When multiple cameras are selected, popup menu allows
			all cameras to be published/unpublished at once.
		</li>
		<li>
			SONAR dependency updated to 1.9.0.
			MapBean dependency updated to 4.3.0.
		</li>
	</ul></dd>
	<dt>3.73.0 (14 August 2008)</dt>
	<dd><ul>
		<li>
			Circuit, Node and Node Group objects removed.
			Iris client and server must be upgraded together.
			Migrate script must be run to update database:
			<code>psql tms -f migrate-3.73.sql</code>
		</li>
		<li>
			There were various other database changes.
			Communication Line renamed to Comm Link.
			Controller170 merged into Controller.
			Cabinet and Cabinet Style classes/tables added.
			These new classes are all SONAR based.
			This means new roles will need to be assigned to users
			change these objects.
		</li>
		<li>
			The "Sonet System" GUI completely replaced with a new
			"Comm Links" GUI.
			Some features are missing from this new interface
			(error counters and test communications), but they
			will be added back in a later version.
		</li>
		<li>
			The "log" database is no longer required for IRIS
			operation.
			Tables from "log" database moved to "event" schema
			in the "tms" database.
			This means the IRIS server requires one less connection
			to the PostgreSQL server.
			It also adds some foreign key relationships between
			the schemas.
			Some additional database scripts will be required to
			retain "log" database event history.
			Also, a cron task should be set up to remove old
			records from the event.comm_event table (many events
			will be created per day).
		</li>
		<li>
			SONAR dependency updated to 1.7.10.
			Scheduler dependency updated to 0.1.1.
		</li>
	</ul></dd>
	<dt>3.72.0 (23 July 2008)</dt>
	<dd><ul>
		<li>
			Location objects converted to SONAR.
			This involves database changes and RMI updates.
			Iris client and server must be upgraded together.
			Migrate script must be run to update databsae:
			<code>psql tms &lt; migrate-3.72.sql</code>
		</li>
		<li>
			Since geo_loc is a new SONAR type, the roles must be
			modified to give administrators permission to change
			these objects.
			One possibility is a role called "geo_loc" with a
			pattern of "geo_loc/.*".
		</li>
		<li>
			SONAR dependency updated to 1.7.3.
		</li>
		<li>
			Video monitor combo box added to camera tab.
			This will allow switching cameras in an analog video
			switch through IRIS.
			This work in ongoing.
		</li>
	</ul></dd>
	<dt>3.71.0 (14 July 2008)</dt>
	<dd><ul>
		<li>
			RMI changes in Controller, interfaces to prepare for
			conversion to SONAR.
			Iris client and server must be upgraded together.
		</li>
		<li>
			SONAR dependency updated to 1.7.1.
		</li>
		<li>
			SONAR authentication properties have changed.
			Old properties "ldap.host", "ldap.port" and "ldap.ssl"
			are gone.
			New porperty "sonar.ldap.urls" is a whitespace-seperated
			list of LDAP server URLs for authenticting.
			If a user authentication fails using the first URL,
			the next LDAP server will be checked, etc.
		</li>
		<li>
			There is a new property in iris-server.properties file:
			"sonar.session.file" controls location of session file.
			This file is updated whenever a user logs in or out
			of IRIS.
			It will be used for authenticating streaming video
			clients in the camera tab.
		</li>
		<li>
			Some work has been done to enable restricting camera
			images on the fly.
			This work is ongoing.
		</li>
		<li>
			Video client dependency updated to 1.30.
		</li>
		<li>
			Video client properties have changed.
			Property "app.name" is no longer required.
			Property "backend.host0" has changed to
			"video.backend.host0".
			Property "backend.port0" has changed to
			"video.backend.port0".
		</li>
		<li>
			Log dependency updated to new version.
		</li>
	</ul></dd>
</dl>

</body>
</html>
